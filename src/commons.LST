MACRO ASSEMBLER COMMONS                                    10/23/14 07:55:38 PAGE     1


DOS MACRO ASSEMBLER MA51 V06.16.13.326
OBJECT MODULE PLACED IN C:\PROJECTS\MICROCONTROLADORES\SRC\COMMONS.OBJ
ASSEMBLER INVOKED BY: QUIET GENERATEDEPFILE EP SYNTAX(ASM51) PR XR PL(60) PW(80) DB OJ(C:\PROJECTS\MICROCONTROLADORES\SRC\COMMONS.OBJ) PIN(C:\RAISONANCE\RIDE\INC;C:\RAISONANCE\RIDE\INC\51) 

LOC     OBJ           LINE    SOURCE
                         1     $INCLUDE(REG52.INC) ;Utilizando reg52 para termos acesso ao terceiro timer caso necessário
                       106     
                       107     $INCLUDE(LCD.ASM)
                       279     ;Podemos dividir o códgigo de cada um em um asm separado, para evitar problema
                       280     ;com nomenclatura sugiro termos esses arquivos pré-definidos.
                       281     $INCLUDE (TETRIS.ASM)
                       291     
                       292     CODE AT 0
0000    020000   F     293         LJMP INIT
                       294     
------                 295     CODE
                       296     INIT:  ;Inicialização das interrupções, do display e do que mais for necessário
00CD    758160         297         MOV SP, #60H ; Move o stack pointer para o endereço 60h
00D0    120000   F     298         LCALL TIMER_INIT
00D3    120000   F     299         LCALL LCD_INIT
00D6    020000   F     300         LJMP MAIN 
                       301         
------                 302     CODE ;ROTINA para inicialização do Timer, de ser chamado por um CALL
                       303     TIMER_INIT: 
00D9    22             304         RET;
                       305     
------                 306     CODE ;ROTINA para tratamento da interrupção do timer0
                       307     TIMER0_INTERRUPT: 
00DA    C0E0           308         PUSH ACC ;Acumulador para pilha
00DC    C0D0           309         PUSH PSW ;Guardar a infromação do banco de registradores que está sendo utilizado    
                       310         ;Utilizar página 1 para interrupção do timer 1 (timer do jogo)
00DE    D2D3           311         SETB RS0
00E0    C2D4           312         CLR RS1
                       313         
                       314         ;Volta os registradores PSW e ACC respectivamente
00E2    D0D0           315         POP PSW
00E4    D0E0           316         POP ACC
00E6    22             317         RET;
                       318     
------                 319     CODE ;Entrada principal onde será exibido o código de menu para seleção do jogo
                       320     MAIN:  
                       321         ;Banco 2
00E7    D2D4           322         SETB RS1
00E9    C2D3           323         CLR RS0
00EB    7901           324         MOV R1, #001H
00ED    7A01           325         MOV R2, #001H
                       326     LOOP_MAIN: 
00EF    7455           327         MOV A, #01010101B
00F1    120000   F     328         LCALL LCD_XY
00F4    F8             329     MOV R0 , A 
00F5    120000   F     330         LCALL LCD_DRAW
00F8    80F5           331         SJMP LOOP_MAIN
00FA    120000   F     332         LCALL FMG_TETRIS_MAIN
                       333     END
MACRO ASSEMBLER COMMONS                                    10/23/14 07:55:38 PAGE     0


SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES             REFERENCES

LCD_DRAW . . . . .  C ADDR   003AH   R  SEG=?PR?COMMONS         171# 330 
BIG_DELAY. . . . .  C ADDR   00B7H   R  SEG=?PR?COMMONS         140 268# 
RCAP2H . . . . . .  D ADDR   00CBH   A                          33# 
DPL. . . . . . . .  D ADDR   0082H   A                          16# 
P0 . . . . . . . .  D ADDR   0080H   A                          8# 
P1 . . . . . . . .  D ADDR   0090H   A                          9# 109 110 111 
INIT_DELAY . . . .  C ADDR   00BDH   R  SEG=?PR?COMMONS         274# 275 
CP_RL2 . . . . . .  B ADDR   00C8H.0 A                          105# 
EXEN2. . . . . . .  B ADDR   00C8H.3 A                          102# 
B. . . . . . . . .  D ADDR   00F0H   A                          14# 
P2 . . . . . . . .  D ADDR   00A0H   A                          10# 
LCD_XY . . . . . .  C ADDR   007EH   R  SEG=?PR?COMMONS         224# 328 
LCD_SEND_SERIAL_D~  C ADDR   004AH   R  SEG=?PR?COMMONS         181 184# 
T2EX . . . . . . .  B ADDR   0090H.1 A                          95# 
PS . . . . . . . .  B ADDR   00B8H.4 A                          65# 
SP . . . . . . . .  D ADDR   0081H   A                          15# 297 
P3 . . . . . . . .  D ADDR   00B0H   A                          11# 112 113 
T0 . . . . . . . .  B ADDR   00B0H.4 A                          74# 
AC . . . . . . . .  B ADDR   00D0H.6 A                          41# 
RCAP2L . . . . . .  D ADDR   00CAH   A                          32# 
MAIN . . . . . . .  C ADDR   00E7H   R  SEG=?PR?COMMONS         300 320# 
REN. . . . . . . .  B ADDR   0098H.4 A                          83# 
T1 . . . . . . . .  B ADDR   00B0H.5 A                          73# 
OV . . . . . . . .  B ADDR   00D0H.2 A                          45# 
LCD_INIT . . . . .  C ADDR   0000H   R  SEG=?PR?COMMONS         132# 299 
T2 . . . . . . . .  B ADDR   0090H.0 A                          96# 
EA . . . . . . . .  B ADDR   00A8H.7 A                          58# 
T2CON. . . . . . .  D ADDR   00C8H   A                          31# 
ACC. . . . . . . .  D ADDR   00E0H   A                          13# 133 167 181 195 
                                                                205 211 221 225 242 
                                                                247 264 308 316 
C_T2 . . . . . . .  B ADDR   00C8H.1 A                          104# 
LCD_SEND_SERIAL_D~  C ADDR   0041H   R  SEG=?PR?COMMONS         179# 189 
WR . . . . . . . .  B ADDR   00B0H.6 A                          72# 
ET0. . . . . . . .  B ADDR   00A8H.1 A                          62# 
LCD_X. . . . . . .  ? ADDR   0000H   A                          116# 237 251 
ET1. . . . . . . .  B ADDR   00A8H.3 A                          60# 
TF0. . . . . . . .  B ADDR   0088H.5 A                          51# 
LCD_Y. . . . . . .  ? ADDR   0000H   A                          117# 232 252 
ET2. . . . . . . .  B ADDR   00A8H.5 A                          91# 
TF1. . . . . . . .  B ADDR   0088H.7 A                          49# 
LCD_CLK. . . . . .  B ADDR   00B0H.1 A                          112# 180 187 
RCLK . . . . . . .  B ADDR   00C8H.5 A                          100# 
TF2. . . . . . . .  B ADDR   00C8H.7 A                          98# 
RB8. . . . . . . .  B ADDR   0098H.2 A                          85# 
TH0. . . . . . . .  D ADDR   008CH   A                          23# 
LCD_DIN. . . . . .  B ADDR   00B0H.0 A                          113# 182 185 
EX0. . . . . . . .  B ADDR   00A8H.0 A                          63# 
IT0. . . . . . . .  B ADDR   0088H.0 A                          56# 
TH1. . . . . . . .  D ADDR   008DH   A                          24# 
TCLK . . . . . . .  B ADDR   00C8H.4 A                          101# 
TB8. . . . . . . .  B ADDR   0098H.3 A                          84# 
RXD. . . . . . . .  B ADDR   00B0H.0 A                          78# 
EX1. . . . . . . .  B ADDR   00A8H.2 A                          61# 
IT1. . . . . . . .  B ADDR   0088H.2 A                          54# 
TH2. . . . . . . .  D ADDR   00CDH   A                          35# 
IE . . . . . . . .  D ADDR   00A8H   A                          25# 
SM0. . . . . . . .  B ADDR   0098H.7 A                          80# 
TXD. . . . . . . .  B ADDR   00B0H.1 A                          77# 
P. . . . . . . . .  B ADDR   00D0H.0 A                          47# 
SBUF . . . . . . .  D ADDR   0099H   A                          28# 
MACRO ASSEMBLER COMMONS                                    10/23/14 07:55:38 PAGE     1


DOS MACRO ASSEMBLER MA51 V06.16.13.326
OBJECT MODULE PLACED IN C:\PROJECTS\MICROCONTROLADORES\SRC\COMMONS.OBJ
ASSEMBLER INVOKED BY: QUIET GENERATEDEPFILE EP SYNTAX(ASM51) PR XR PL(60) PW(80) DB OJ(C:\PROJECTS\MICROCONTROLADORES\SRC\COMMONS.OBJ) PIN(C:\RAISONANCE\RIDE\INC;C:\RAISONANCE\RIDE\INC\51) 

LOC     OBJ           LINE    SOURCE
TL0. . . . . . . .  D ADDR   008AH   A                          21# 
PCON . . . . . . .  D ADDR   0087H   A                          18# 
SM1. . . . . . . .  B ADDR   0098H.6 A                          81# 
TL1. . . . . . . .  D ADDR   008BH   A                          22# 
SM2. . . . . . . .  B ADDR   0098H.5 A                          82# 
TL2. . . . . . . .  D ADDR   00CCH   A                          34# 
INIT_DELAY_2 . . .  C ADDR   00BBH   R  SEG=?PR?COMMONS         272# 276 
SCON . . . . . . .  D ADDR   0098H   A                          27# 
TIMER_INIT . . . .  C ADDR   00D9H   R  SEG=?PR?COMMONS         298 303# 
INIT . . . . . . .  C ADDR   00CDH   R  SEG=?PR?COMMONS         293 296# 
INIT_DELAY_3 . . .  C ADDR   00B9H   R  SEG=?PR?COMMONS         270# 277 
LCD_SEND_SERIAL_D~  C ADDR   003EH   R  SEG=?PR?COMMONS         176# 201 217 
PT0. . . . . . . .  B ADDR   00B8H.1 A                          68# 
TMOD . . . . . . .  D ADDR   0089H   A                          20# 
TCON . . . . . . .  D ADDR   0088H   A                          19# 
LCD_CLEAR_INTERNA~  C ADDR   00A7H   R  SEG=?PR?COMMONS         256# 262 
LCD_SEND_DATA. . .  C ADDR   0068H   R  SEG=?PR?COMMONS         172 209# 260 
LCD_RESET. . . . .  B ADDR   0090H.5 A                          110# 137 
EXF2 . . . . . . .  B ADDR   00C8H.6 A                          99# 
PT1. . . . . . . .  B ADDR   00B8H.3 A                          66# 
RS0. . . . . . . .  B ADDR   00D0H.3 A                          44# 136 198 214 228 
                                                                250 311 323 
LCD_SERIAL_END_IF.  C ADDR   004CH   R  SEG=?PR?COMMONS         183 186# 
PT2. . . . . . . .  B ADDR   00B8H.5 A                          93# 
RD . . . . . . . .  B ADDR   00B0H.7 A                          71# 
TR0. . . . . . . .  B ADDR   0088H.4 A                          52# 
RS1. . . . . . . .  B ADDR   00D0H.4 A                          43# 135 197 213 227 
                                                                249 312 322 
F0 . . . . . . . .  B ADDR   00D0H.5 A                          42# 
TR1. . . . . . . .  B ADDR   0088H.6 A                          50# 
F1 . . . . . . . .  B ADDR   00D0H.1 A                          46# 
FMG_TETRIS_MAIN. .  C ADDR   00C4H   R  SEG=?PR?COMMONS         285# 332 
TR2. . . . . . . .  B ADDR   00C8H.2 A                          103# 
PX0. . . . . . . .  B ADDR   00B8H.0 A                          69# 
ES . . . . . . . .  B ADDR   00A8H.4 A                          59# 
LCD_CLEAR. . . . .  C ADDR   0099H   R  SEG=?PR?COMMONS         165 246# 
LCD_DC . . . . . .  B ADDR   0090H.7 A                          111# 199 215 
PX1. . . . . . . .  B ADDR   00B8H.2 A                          67# 
IP . . . . . . . .  D ADDR   00B8H   A                          26# 
LCD_SEND_COMMAND .  C ADDR   0052H   R  SEG=?PR?COMMONS         145 148 151 154 157 
                                                                160 163 193# 235 
                                                                240 
LCD_CE . . . . . .  B ADDR   0090H.6 A                          109# 138 200 202 
                                                                216 218 
PSW. . . . . . . .  D ADDR   00D0H   A                          12# 134 166 196 204 
                                                                212 220 226 241 248 
                                                                263 309 315 
LCD_CLEAR_INTERNA~  C ADDR   00A9H   R  SEG=?PR?COMMONS         258# 261 
RI . . . . . . . .  B ADDR   0098H.0 A                          87# 
INT0 . . . . . . .  B ADDR   00B0H.2 A                          76# 
?PR?COMMONS. . . .  C SEG    00FDH      REL=UNIT                131# 170 175 192 
                                                                208 223 245 267 282 
                                                                295 302 306 319 
LCD_BUS. . . . . .  ? ADDR   0000H   A                          115# 144 147 150 
                                                                153 156 159 162 178 
                                                                234 239 259 329 
INT1 . . . . . . .  B ADDR   00B0H.3 A                          75# 
CY . . . . . . . .  B ADDR   00D0H.7 A                          40# 
DPH. . . . . . . .  D ADDR   0083H   A                          17# 
TIMER0_INTERRUPT .  C ADDR   00DAH   R  SEG=?PR?COMMONS         307# 
TI . . . . . . . .  B ADDR   0098H.1 A                          86# 
LOOP_MAIN. . . . .  C ADDR   00EFH   R  SEG=?PR?COMMONS         326# 331 
IE0. . . . . . . .  B ADDR   0088H.1 A                          55# 
IE1. . . . . . . .  B ADDR   0088H.3 A                          53# 
COMMONS. . . . . .  N NUMB   -----



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    256    ----
   XDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


REGISTER BANK(S) USED : 0 

ASSEMBLY COMPLETE.   0 WARNING(S)   0 ERROR(S)
